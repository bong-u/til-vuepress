### MVC 2 : Messages, Validate command object

### Messages

* label.properties
```
member.register=회원가입
```
```html
<%@ taglib prefix="spring" uri="http://www.springframework.org/tags" %>
<head>
    <title><spring:message code="member.register" /></title>
</head>
```

* 사이트가 여러 언어를 지원해야할 때 label_ko.properties, label_en.properties와 같이 만든다고 한다
* http헤더의 Accept-Launguage를 자동으로 인식한다고 하니까 편할 것 같다

### Validate command object
* RegisterRequestValidator
```java
@Override
public void validate(Object target, Errors errors) {
    RegisterRequest regReq = (RegisterRequest) target;

    if(regReq.getEmail() == null | regReq.getEmail().trim().isEmpty()) {
        errors.rejectValue("email", "bad");
    }
    else {
        Matcher matcher = pattern.matcher(regReq.getEmail());
        if(!matcher.matches()) {
            errors.rejectValue("email", "bad");
        }
    }

    ValidationUtils.rejectIfEmptyOrWhitespace(errors, "name", "required");
    ValidationUtils.rejectIfEmpty(errors, "password", "required");
    ValidationUtils.rejectIfEmpty(errors, "confirmPassword", "required");
    if (!regReq.getPassword().isEmpty()) {
        if (!regReq.isPasswordEqualToConfirmPassword()) {
            errors.rejectValue("confirmPassword", "nomatch");
        }
    }
}
```

